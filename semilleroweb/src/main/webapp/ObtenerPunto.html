<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <script type="text/javascript">
            var map;
            var eventlatLng; //new var

            $(document).ready(function () {
                //no changes in document.ready
            });

            google.maps.event.addListener(map, 'click', function (event) {
                if (event.latLng) {
                    eventlatLng = event.latLng; // new var set here
                    $('#divConfirmDialog').html('Add marker?');
                    $('#divConfirmDialog').dialog('open');
                }
            });

            $('#divConfirmDialog').dialog({
                dialogClass: 'dialogShadow',
                resizable: false,
                height: 100,
                autoOpen: false,
                modal: true,
                buttons: {
                    "Add Marker?": function () {
                        addMarker(map, eventlatLng); //added call to function with new var
                        $(this).dialog("close");
                    },
                    "Don't Add": function () {
                        $(this).dialog("close");
                    }
                }
            });
        </script>
    </head>
    <body>
        <div id="divConfirmDialog">

        </div>
    </body>
</html>
